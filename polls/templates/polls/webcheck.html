{% extends 'polls/base.html' %}
{% block Title %}Webcheck setup{% endblock %}
{% block Background %}
<div class="h-100" style="background-image: url('https://u9.by/assets/mainback.jpg'); background-size: cover;">
    {% endblock %}
    {% block Body %}
        <legend>Check websites availability and response codes</legend>
    Here you can setup periodical check of websites you're tracking, and sending notification if they're down
    {% if request.user.is_authenticated %}
   <br> <br>To setup notification methods please go to your <a href="{% url 'auth:profile' request.user.profile.id %}">user profile page</a> and don't forget to set checkboxes ON.
    {% endif %}
    {% if form.errors %}
    <p style="color: orangered">Got errors! {{ form.errors }}</p>
    {% endif %}
    {% for message in messages %}
    <p style="color: orangered">{{ message }}</p>
    {% endfor %}
    <br><br>
    <legend>Add new record:</legend>
    <form action="" method="post">
          {% csrf_token %}
<table class="table table-bordered" style="background-color: #eafff5;">
    <thead class="thead-dark">
    <tr>
        <td><b>URL</b></td>
        <td><b>Polling frequency</b></td>
    </tr>
    </thead>
    <tr>
        <td>{{ form.url }}</td>
        <td align="center">{{ form.polling_frequency }}</td>
    </tr>
</table>
        <table class="table table-bordered" style="background-color: #eafff5;">
    <thead class="thead-dark">
    <tr>
        <td><b>Notify?</b></td>
        <td><b>Codes to notify</b></td>
        <td></td>
    </tr>
    </thead>
    <tr>

        <td align="center">{{ form.notifycb }}</td>
        <td>{{ form.code100cb }}{{ form.code100cb.label }}<br>{{ form.code200cb }}{{ form.code200cb.label }}<br>{{ form.code300cb }}{{ form.code300cb.label }}<br>{{ form.code400cb }}{{ form.code400cb.label }}<br>{{ form.code500cb }}{{ form.code500cb.label }}</td>
        <td><input type="submit" class="btn btn-success btn-sm" value="Add record"></td>
    </tr>
</table>
      </form>
    <br><br>
    <legend>Existing records:</legend>

    {% endblock %}